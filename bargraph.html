<!DOCTYPE html>
<html>
<head>
	<title>Bar Graph in D3</title>
	<script type="text/javascript" src="./d3/d3.js" charset="UTF-8"></script>
</head>
<body>
<script type="text/javascript">
	

	var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13,
	                11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];
	var width = 500;
	var height = 200;
	var barPadding = 1;

	var svg = d3.select("body")
		.append("svg")
		.attr("width", width)
		.attr("height", height);

	svg.selectAll('rect')
		.data(dataset)
		.enter()
		.append('rect')
		.attr('x', function (d, i) {
			// console.log('logging {d, i}', d, i );
			return i * (width / dataset.length);
		})
		.attr('y', function (d, i) {
			return height - d * 5;
		})
		.attr('width', function (d, i) {
			return width / dataset.length - barPadding;
		})
		.attr('height', function (d) {
			return d * 10; 
		})
		.attr('fill', function (d) {
			return" rgb(" + (d * 5) + ", " + (d * 5) + ", " + (d * 10) + " )"
		})
		
	;


	svg.selectAll("text")
		.data(dataset)
		.enter()
		.append("text")
		.attr("x", function (d, k) {
			return k * (width / dataset.length) + ( width / dataset.length - barPadding) / 2;
		})
		.attr("y", function(d, k) {
			return height - (d * 5) + 15;
		})
		.text(function(d, k) { 
			return d; 
		})
		.attr('font-family', 'sans-serif')
		.attr('font-size', '11px')
		.attr('fill', 'white')
		.attr("text-anchor", "middle")
	;
</script>
</body>
</html>